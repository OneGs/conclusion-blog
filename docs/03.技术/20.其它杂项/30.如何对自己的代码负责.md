---
title: 如何对自己的代码负责
date: 2022-10-19 10:23:45
permalink: /pages/50633f/
categories:
  - 技术
  - 其它杂项
tags:
  - 
---

# 如何对自己的代码负责

1. 样式、规范的统一，避免重复性构建工具组件。
2. 对部分功能做单元测试、组件测试和端到端测试。
3. 组件测试：对接口测试，对内部隔离，保证最终渲染的正确性。

<!-- more -->

## 代码规范性

代码书写过程中，良好的代码书写规则、规范化的排版布局、统一的命名范式，会大大提高可维护性。

因此在编写过程中，需要时刻注意团队中制定好的规范，并坚决拥护。但有时候可能会遗漏、忘记、和不熟悉，导致代码规范被破坏。

为防止出现该情况，可以采用自动化工具帮助我们完成检验。常用的工具有：eslint、styleLint、commitLint、changLogs等。

eslint对代码做智能提示，出现不符合规范的情况则会进行告知。styleLint则是对css样式的提醒，弥补了eslint无法覆盖css的问题。
commitLint可以检查git提交message是否适合规范，避免开发人员随意填写message的问题。良好的message是后续审查提交信息的重要来源。

为保证每次提交都能够符合规范，可以通过git钩子将eslint、stylelint在提交前自动执行。git的message则可以通过交互的形式进行填写。这样能大大提高代码的规范性。

changeLogs则是对发布内容的每次更新的记录，可以帮助出现问题后精准快速的查询问题。

## 在团队中协作

在大型项目中，每个人可能负责的内容不同。但在部分组件上存在复用的可能性，此时每个人都是独立且无交流的情况下，很容易造成功能的重复开发，导致效率降低。

且功能相同的组件，命名、存储位置都大相径庭，为避免这种情况，我们能做的是：沟通。

1. 从框架从面协商，公共组件的位置存储，命名方式。
2. 在写组件时，通过查询、组内询问、告知的方式，确定是否存在相同组件。
3. 自己写的组件需要在组内进行通知。
4. 建立公共组件文档，这个文档怎么简单怎么来，可以是实时的云excel文档，公司内部的文档库等。

如此，起码你在项目内是个可靠的人员了。

## 必要的代码测试

规范，沟通环节都做的不错时，代码的维护性已经大大加强。但却无法避免一个问题，开发者认为正确的错误或不小心遗漏的错误。

为了能够在后续不断增加的代码量，或重构时，保证代码的质量，测试则是无法避免的环节。因此需要你掌握一些测试能力，以及边界分析能力。

测试无论采用何种工具，你都应该更注重逻辑测试而非细节测试——在单元测试中。同时需要不断注重测试所需的理论知识。

1. 对单个公用组件做测试，而非多个组件做关联测试（这是E2E测试的事情）。
2. 对组件的接口测试，不对细节测试。
3. 多考虑测试的边界情况。

在vue中，常用的测试工具有：vueTest、jest、mocha等。

## 参考连接

1. [vue官方测试指导](https://cn.vuejs.org/guide/scaling-up/testing.html#recipes)：详细的列出了vue测试需要专注的部分，并对没部分做出解决方案的推荐。
2. [Testing Library Guiding Principles](https://testing-library.com/docs/guiding-principles/)：测试指导原则。